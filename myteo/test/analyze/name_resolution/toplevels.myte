module Test

// Top level names can be referenced before they are defined
fun topLevelBeforeTest() {
  topLevelFunc;
  topLevelVal;
  val _: topLevelType = 1;

  {
    topLevelFunc;
    topLevelVal;
    val _: topLevelType = 1;
  }

  fun inner() {
    topLevelFunc;
    topLevelVal;
    val _: topLevelType = 1;
  }
}

fun topLevelFunc() {}
val topLevelVal: int = 1;
type topLevelType = unit

// Top level names can be referenced after they are defined
fun topLevelAfterTest() {
  topLevelFunc;
  topLevelVal;
  val _: topLevelType = 1;

  {
    topLevelFunc;
    topLevelVal;
    val _: topLevelType = 1;
  }

  fun inner() {
    topLevelFunc;
    topLevelVal;
    val _: topLevelType = 1;
  }
}

// Mutually recursive toplevel references
val topLevelRecVar1: int = topLevelRecVar2;
val topLevelRecVar2: int = topLevelRecVar1;

fun topLevelRecFunc1() {
  topLevelRecFunc2();
}

fun topLevelRecFunc2() {
  topLevelRecFunc1();
}

type topLevelRecType1 = topLevelRecType2
type topLevelRecType2 = topLevelRecType1

fun main() {}