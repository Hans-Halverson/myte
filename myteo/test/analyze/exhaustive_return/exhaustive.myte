module Exhaustive

// Functions with unit return type do not need exhaustive returns
fun test1() {}

fun test2(): unit {}

fun test3(): (((unit))) {}

// Functions with expression bodies do not need exhaustive returns
fun test4(): int = 1

// All other functions require exhaustive returns
fun test5(): int {
  return 1;
}

fun test6(): int {
  1;
  2;
  return 3;
}

fun test7(): int {
  {
    1;
    return 2;
  }
}

fun test8(): int {
  if (true) {
    return 1;
  } else {
    return 2;
  }
}

fun test9(): int {
  if (true) {
    return 1;
  }
  2;
  return 3;
}

fun test10(): int {
  if (true) {}
  2;
  return 3;
}

fun testMatchSingleCase(): int {
  val _ = 1;
  match (1) {
    | _ -> return 1
  }
}

fun testMatchMultipleCases(): int {
  val _ = 1;

  match (1) {
    | _ -> return 1
    | _ -> return 2
    | _ -> return 3
  }
}

fun testMatchNested(): int {
  val _ = 1;
  match (1) {
    | _ -> return 1
    | _ -> match (2) {
      | _ -> return 2
      | _ -> return 3
    }
  }
}

fun main() {}