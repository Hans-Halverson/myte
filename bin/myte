#!/usr/bin/python

import argparse
import os
import sys

if __name__ == '__main__':
	parser = argparse.ArgumentParser()
	parser.add_argument('--rebuild', action='store_true', help='Rebuild the myte language')
	parser.add_argument('FILE', nargs='?', help='File to process with myte interpreter')
	parser.add_argument('--args', nargs='*', help='Command line arguments to pass to main')

	args = parser.parse_args()

	if args.rebuild:
		os.system('$MYTEPATH/scripts/build')
	elif args.FILE is None:
		os.system('$MYTEPATH/scripts/run')
	else:
		args_string = ' '.join(args.args) if args.args is not None else ''
		os.system('$MYTEPATH/scripts/run {0} {1}'.format(args.FILE, args_string))
