module test

fun use(x: Int) {}

// While loops form a strongly connected component, verify that inner statements are still visited
// in approximate topological order.
fun main() {
  use(1);

  while (false) {
    // Nested ifs visited in topological order
    if (true) {
      use(2);

      if (false) {
        use(3);
      } else {
        use(4);
      }

      use(5);
    } else {
      use(6);

      if (false) {
        use(7);
      } else {
        use(8);
      }

      use(9);
    }

    use(10);

    // Nested ifs within nested while are visited in topological order
    while (false) {
      if (true) {
        use(11);

        if (false) {
          use(12);
        } else {
          use(13);
        }

        use(14);
      } else {
        use(15);

        if (false) {
          use(16);
        } else {
          use(17);
        }

        use(18);
      }

      use(19);
    }

    use(20);
  }

  use(21);
}