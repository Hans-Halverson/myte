module test

fun testUnwrapOption(x: Option<Int>): Option<Int> {
  use(x?);
  return Some (1);
}

fun testUnwrapOptionDifferentType(x: Option<Bool>): Option<Int> {
  use(x?);
  return Some (1);
}

fun testDoubleUnwrap(x: Option<Option<Int>>): Option<Int> {
  use(x??);
  return Some (1);
}

type ZeroSize (Unit)

fun testZeroSizeUnwrap(x: Option<ZeroSize>): Option<Int> {
  use(x?);
  return Some (1);
}

fun use<T>(x: T) {}

fun main() {
  use(testUnwrapOption);
  use(testUnwrapOptionDifferentType);
  use(testDoubleUnwrap);
  use(testZeroSizeUnwrap);
}