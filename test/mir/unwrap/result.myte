module test

fun testUnwrapResult(x: Result<Int, Bool>): Result<Int, Bool> {
  use(x?);
  return Ok (1);
}

fun testUnwrapResultDifferentType(x: Result<Int, Bool>): Result<Long, Bool> {
  use(x?);
  return Ok (1);
}

fun testDoubleUnwrap(x: Result<Result<Int, Bool>, Bool>): Result<Int, Bool> {
  use(x??);
  return Ok (1);
}

fun use<T>(x: T) {}

fun main() {
  use(testUnwrapResult);
  use(testUnwrapResultDifferentType);
  use(testDoubleUnwrap);
}