func unit @test.use(int %0) {
  Ret
}

func unit @test.testNeitherUpdated() {
  branch true, @0, @1
label @0:
  %1 := Call unit @test.use(0)
  continue @2
label @1:
  %2 := Call unit @test.use(1)
  continue @2
label @2:
  %3 := Neg int 1
  Ret
}

func unit @test.testOnlyFirstUpdated() {
  branch true, @3, @4
label @3:
  continue @5
label @4:
  %4 := Call unit @test.use(0)
  continue @5
label @5:
  %5 := Phi int @3:2, @4:1
  %6 := Neg int %5
  Ret
}

func unit @test.testOnlySecondUpdated() {
  branch true, @6, @7
label @6:
  %7 := Call unit @test.use(0)
  continue @8
label @7:
  continue @8
label @8:
  %8 := Phi int @6:1, @7:2
  %9 := Neg int %8
  Ret
}

func unit @test.testBothUpdated() {
  branch true, @9, @10
label @9:
  continue @11
label @10:
  continue @11
label @11:
  %10 := Phi int @9:2, @10:3
  %11 := Neg int %10
  Ret
}

func unit @test.testMultiple(int %12) {
  branch true, @12, @13
label @12:
  continue @14
label @13:
  continue @14
label @14:
  %13 := Phi int @12:3, @13:0
  %14 := Phi int @12:1, @13:4
  %15 := Neg int %13
  %16 := Neg int %14
  %17 := Neg int %12
  Ret
}

global int @test.glob = 1

func unit @test.testGlobal() {
  branch true, @15, @16
label @15:
  Store int @test.glob, 2
  continue @17
label @16:
  %18 := Call unit @test.use(0)
  continue @17
label @17:
  %19 := Load int @test.glob
  %20 := Neg int %19
  branch true, @18, @19
label @18:
  %21 := Call unit @test.use(0)
  continue @20
label @19:
  Store int @test.glob, 3
  continue @20
label @20:
  %22 := Load int @test.glob
  %23 := Neg int %22
  branch true, @21, @22
label @21:
  Store int @test.glob, 4
  continue @23
label @22:
  Store int @test.glob, 5
  continue @23
label @23:
  %24 := Load int @test.glob
  %25 := Neg int %24
  Ret
}

func int @test.main() {
  Ret 0
}