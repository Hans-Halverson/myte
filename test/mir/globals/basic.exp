global int @test.i = 1

global fn @test.f = @test.test

func unit @test.test() {
  Ret
}

func fn @test.use<fn>(fn %0) {
  Ret %0
}

func int @test.use<int>(int %1) {
  Ret %1
}

func unit @test.useAll() {
  %2 := Load int @test.i
  %3 := Call int @test.use<int>(%2)
  %4 := Load fn @test.f
  %5 := Call fn @test.use<fn>(%4)
  Ret
}

func int @test.main() {
  Ret 0
}