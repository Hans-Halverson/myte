type a.TupA<Long> {long}

global int @a.varA = 1

func unit @a.funcA() {
  Ret
}

func unit @a.useFromB(b.RecB<Byte>* %0) {
  %1 := Load bool @b.varB
  %2 := Call unit @b.funcB()
  Ret
}

func unit @a.use<Function>(fn %3) {
  Ret
}

func int @a.main() {
  %4 := Call unit @a.use<Function>(@a.useFromB)
  %5 := Call unit @a.use<Function>(@b.useFromA)
  Ret 0
}

type b.RecB<Byte> {byte}

global bool @b.varB = true

func unit @b.funcB() {
  Ret
}

func unit @b.useFromA(a.TupA<Long>* %6) {
  %7 := Load int @a.varA
  %8 := Call unit @a.funcA()
  Ret
}