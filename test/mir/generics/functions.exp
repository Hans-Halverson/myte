type test.Tup1<Bool> {int, long}

type test.Tup1<Byte> {int, byte}

type test.Tup1<Int> {int, int}

type test.Tup1<test.Tup1<Byte>> {int, test.Tup1<Byte>*}

func long @test.id<Bool>(long %0) {
  Ret %0
}

func int @test.id<Int>(int %0) {
  Ret %0
}

func void @test.id<Unit>() {
  Ret
}

func test.Tup1<Byte>* @test.id<test.Tup1<Byte>>(test.Tup1<Byte>* %0) {
  Ret %0
}

func test.Tup1<Bool>* @test.singleParameter<Bool>(long %0) {
  %1 := Call long @test.id<Bool>(%0)
  %2 := CallBuiltin test.Tup1<Bool>* myte_alloc(1)
  %3 := GetPointer int, test.Tup1<Bool>* %2.0
  Store int %3, 1
  %4 := GetPointer long, test.Tup1<Bool>* %2.1
  Store long %4, %1
  Ret %2
}

func test.Tup1<Int>* @test.singleParameter<Int>(int %0) {
  %1 := Call int @test.id<Int>(%0)
  %2 := CallBuiltin test.Tup1<Int>* myte_alloc(1)
  %3 := GetPointer int, test.Tup1<Int>* %2.0
  Store int %3, 1
  %4 := GetPointer int, test.Tup1<Int>* %2.1
  Store int %4, %1
  Ret %2
}

func test.Tup1<test.Tup1<Byte>>* @test.singleParameter<test.Tup1<Byte>>(test.Tup1<Byte>* %0) {
  %1 := Call test.Tup1<Byte>* @test.id<test.Tup1<Byte>>(%0)
  %2 := CallBuiltin test.Tup1<test.Tup1<Byte>>* myte_alloc(1)
  %3 := GetPointer int, test.Tup1<test.Tup1<Byte>>* %2.0
  Store int %3, 1
  %4 := GetPointer test.Tup1<Byte>*, test.Tup1<test.Tup1<Byte>>* %2.1
  Store test.Tup1<Byte>* %4, %1
  Ret %2
}

func void @test.testSingleParameter() {
  %0 := Call test.Tup1<Int>* @test.singleParameter<Int>(1)
  %1 := Call test.Tup1<Bool>* @test.singleParameter<Bool>(3)
  %2 := CallBuiltin test.Tup1<Byte>* myte_alloc(1)
  %3 := GetPointer int, test.Tup1<Byte>* %2.0
  Store int %3, 1
  %4 := GetPointer byte, test.Tup1<Byte>* %2.1
  Store byte %4, 1
  %5 := Call test.Tup1<test.Tup1<Byte>>* @test.singleParameter<test.Tup1<Byte>>(%2)
  Ret
}

func fn @test.testInstantiationFromNonCallUse() {
  Ret @test.id<Unit>
}

func void @test.use<Function>(fn %0) {
  Ret
}

func int @test.main() {
  Call void @test.use<Function>(@test.testSingleParameter)
  Call void @test.use<Function>(@test.testInstantiationFromNonCallUse)
  Ret 0
}