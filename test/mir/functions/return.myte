module test

fun testReturnValue(): Int {
  if (true) {
    return id(1) + id(2);
  }

  return 1;
}

type ZeroSize (Unit)

fun getUnit() = ()

fun testReturnZeroSizeType(): ZeroSize {
  if (true) {
    // Call preserved
    return id(ZeroSize(getUnit()));
  }

  // Completely eliminated
  return ZeroSize(());
}

fun id<T>(x: T): T = x

fun main() {}